{"version":3,"sources":["node_modules/browser-pack/_prelude.js","LancerFrame.js","src/LancerFrame-init.js","src/LancerFrame-main.js","src/_/_.js","src/directives/_main.js","src/directives/directive.js","src/directives/lc-click.js","src/directives/lc-html.js","src/directives/lc-model.js","src/directives/lc-mouse-event.js","src/directives/lc-text.js","src/dom-init/_main.js","src/static-func/_main.js","src/static-func/controller.js","src/static-func/css.js","src/static-func/on-off.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Object","defineProperty","value","initFunc","undefined","_main","_main2","$lc","directiveMain","domInit","./directives/_main","./dom-init/_main",2,"_LancerFrameInit","root","VERSION","AUTHOR","BROWSER","setStaticFunc","inited","on","window","console","log","setTimeout","document","readyState","LancerFrame","./LancerFrame-init.js","./static-func/_main",3,"_","typeof","_typeof","target","prototype","toString","match","replace","toLowerCase",4,"_directive","_lcText","_lcModel","_lcHtml","_lcClick","_lcMouseEvent","directives","directive","lcModel","lcText","lcHTML","lcClick","lcMouseEvents","./directive","./lc-click","./lc-html","./lc-model","./lc-mouse-event","./lc-text",5,"_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_2","_classCallCheck","instance","TypeError","name","options","_class","element","scope","this","$element","$scope","$directiveName","$expr","attributes","$init","$done","_$done","$update","_$update","apply","arguments","$destory","_$destory","$removeDirective","removeAttribute","../_/_",6,7,"func","innerHTML",8,"self","imeIgnored","duplexIgnored","addEventListener","inputEvent","event","keyCode","newValue",9,"newFunc",10,"innerText",11,"ctrl","controllers","$ctrlDoms","querySelectorAll","$name","$directives","$initFunc","_loop","prop","hasOwnProperty","propKey","propValue","get","set","syncController","_ret","initController","ctrlDom","initChilden","ctrlChildren","_i","_length","child","children","_i2","_length2","direcitveName","directiveExpr","indexOf","push","expr","forEach","directiveObj","index",12,"_css","_onOff","_controller","staticFunc","controller","css","off","./controller","./css","./on-off",13,"ctrlName","dependencies",14,"style",15,"eventType","eventHanler","attachEvent","removeEventListener","detachEvent"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,SAAAC,UAAA,YAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,GAAAL,SAAAD,UAAA,YAAAA,OAAA,KAAA,GAAAH,GAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,MAAAa,GAAA,SAAAT,QAAAU,OAAAJ,SCCA,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,SAAQQ,SAAWC,SCDnB,IAAAC,OAAAhB,QAAA,qBACA,IAAAiB,QAAAjB,QAAA,mBDSAM,SCZQQ,SAAAA,QAKR,SAASA,UAAUI,MAEf,EAAAF,MAAAG,eAAcD,MACd,EAAAD,OAAAG,SAAQF,QDaTG,qBAAqB,EAAEC,mBAAmB,KAAKC,GAAG,SAASvB,QAAQU,OAAOJ,SAC7E,YEtBA,IAAAU,OAAAhB,QAAA,sBACA,IAAAwB,kBAAAxB,QAAA,0BAEA,SAAWyB,KAAMV,WACb,YAEA,IAAIG,OAIJA,KAAIQ,QAAU,OACdR,KAAIS,OAAS,aACbT,KAAIU,QAAU,IAKd,EAAAZ,MAAAa,eAAcX,MASd,WACIA,IAAIY,OAAS,KAEbZ,KAAIa,GAAGC,OAAQ,mBAAoB,WAC/B,GAAId,IAAIY,OAAQ,MAChBG,SAAQC,IAAI,6BACZ,EAAAV,iBAAAV,UAASI,IACTA,KAAIY,OAAS,MAGjBZ,KAAIa,GAAGC,OAAQ,OAAQ,WACnB,GAAId,IAAIY,OAAQ,MAChBG,SAAQC,IAAI,0BACZ,EAAAV,iBAAAV,UAASI,IACTA,KAAIY,OAAS,MAGjBK,YAAW,WACPC,SAASC,aAAe,YAAe,WACnC,GAAInB,IAAIY,OAAQ,MAChBG,SAAQC,IAAI,kCACZ,EAAAV,iBAAAV,UAASI,IACTA,KAAIY,OAAS,SAElB,MAQPL,MAAKa,YAAcb,KAAKP,IAAMA,MAG/Bc,UFsBAO,wBAAwB,EAAEC,sBAAsB,KAAKC,GAAG,SAASzC,QAAQU,OAAOJ,SACnF,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MGrFJ,IAAM6B,GAAApC,QAAAoC,GACTC,SAAQ,QAAAC,SAACC,QAAD,MAAYlC,QAAOmC,UAAUC,SAASxC,KAAKsC,QAAQG,MAAM,SAAS,GAAGC,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIC,qBHiG7GC,GAAG,SAASnD,QAAQU,OAAOJ,SACjC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,SAAQa,cAAgBJ,SItGxB,IAAAqC,YAAApD,QAAA,cACA,IAAAqD,SAAArD,QAAA,YACA,IAAAsD,UAAAtD,QAAA,aACA,IAAAuD,SAAAvD,QAAA,YACA,IAAAwD,UAAAxD,QAAA,aACA,IAAAyD,eAAAzD,QAAA,mBJoHAM,SI3HQa,cAAAA,aASR,SAASA,eAAeD,KAIpBA,IAAIwC,aAGJxC,KAAIyC,UAAJP,WAAAO,WAGA,EAAAL,SAAAM,SAAQ1C,MACR,EAAAmC,QAAAQ,QAAO3C,MACP,EAAAqC,QAAAO,QAAO5C,MACP,EAAAsC,SAAAO,SAAQ7C,MACR,EAAAuC,cAAAO,eAAc9C,QJwHf+C,cAAc,EAAEC,aAAa,EAAEC,YAAY,EAAEC,aAAa,EAAEC,mBAAmB,EAAEC,YAAY,KAAKC,GAAG,SAASvE,QAAQU,OAAOJ,SAChI,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,SAAQqD,UAAY5C,SAEpB,IAAIyD,cAAe,WAAc,QAASC,kBAAiB5B,OAAQ6B,OAAS,IAAK,GAAIzE,GAAI,EAAGA,EAAIyE,MAAMlE,OAAQP,IAAK,CAAE,GAAI0E,YAAaD,MAAMzE,EAAI0E,YAAWC,WAAaD,WAAWC,YAAc,KAAOD,YAAWE,aAAe,IAAM,IAAI,SAAWF,YAAYA,WAAWG,SAAW,IAAMnE,QAAOC,eAAeiC,OAAQ8B,WAAWI,IAAKJ,aAAiB,MAAO,UAAUK,YAAaC,WAAYC,aAAe,GAAID,WAAYR,iBAAiBO,YAAYlC,UAAWmC,WAAa,IAAIC,YAAaT,iBAAiBO,YAAaE,YAAc,OAAOF,gBKtJhiB,IAAAG,IAAAnF,QAAA,SL8JA,SAASoF,iBAAgBC,SAAUL,aAAe,KAAMK,mBAAoBL,cAAc,CAAE,KAAM,IAAIM,WAAU,sCAEhHhF,QK9JSqD,UAAAA,SAET,SAASA,WAAW4B,KAAMC,SAYtB,GAAIL,GAAAzC,EAAEC,OAAO4C,QAAU,SAAU,CAC7B,KAAM,IAAIpF,OAAJ,wBAOVe,IAAIwC,WAAW,MAAQ6B,MAAvB,WACI,QAAAE,QAAaC,QAASC,OAAOP,gBAAAQ,KAAAH,OACzBG,MAAKC,SAAWH,OAChBE,MAAKE,OAASH,KACdC,MAAKG,eAAL,MAA4BR,IAC5BK,MAAKI,MAAQJ,KAAKC,SAASI,WAAWL,KAAKG,gBAAgBlF,KAE3D2E,SAAQU,OAASV,QAAQU,MAAM3F,KAAKqF,KAAMA,KAAKC,SAAUD,KAAKD,MAG9D,IAAIH,QAAQW,MAAO,CACf,GAAIC,QAASR,KAAKO,KAClBC,QAAO7F,KAAKqF,KACZJ,SAAQW,MAAM5F,KAAKqF,UAChB,CACHA,KAAKO,MAAM5F,KAAKqF,MAGpB,GAAIJ,QAAQa,QAAS,CACjB,GAAIC,UAAWV,KAAKS,OACpBT,MAAKS,QAAU,WACXC,SAAS/F,KAAKqF,KACdJ,SAAQa,QAAQE,MAAMX,KAAMY,YAIpC,GAAIhB,QAAQiB,SAAU,CAClB,GAAIC,WAAYd,KAAKa,QACrBb,MAAKa,SAAW,WACZC,UAAUnG,KAAKqF,KACfJ,SAAQiB,SAASF,MAAMX,KAAMY,YAIrCZ,KAAKe,mBAlCbnC,aAAAiB,SAAAV,IAAA,QAAAlE,MAAA,QAAAsF,aAAApB,IAAA,UAAAlE,MAAA,QAAAwF,eAAAtB,IAAA,WAAAlE,MAAA,QAAA4F,gBAAA1B,IAAA,mBAAAlE,MAAA,QAAA8F,oBAkDQf,KAAKC,SAASe,gBAAgBhB,KAAKG,mBAlD3C,OAAAN,cL8NDoB,SAAS,IAAIC,GAAG,SAAS9G,QAAQU,OAAOJ,SAC3C,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAUXP,SMlQQyD,QAAAA,OAER,SAASA,SAAS7C,KAEdA,IAAIyC,UAAU,SACVwC,MAAO,QAAAA,SACHjF,IAAIa,GAAG6D,KAAKC,SAAU,QAASD,KAAKE,OAAOF,KAAKI,SAGpDK,QAAS,QAAAA,qBNuQXU,GAAG,SAAS/G,QAAQU,OAAOJ,SACjC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAOXP,SO9RQwD,OAAAA,MAER,SAASA,QAAQ5C,KAEbA,IAAIyC,UAAU,QACVwC,MAAOa,KACPX,QAASW,MAGb,SAASA,MAAMnG,OACX+E,KAAKC,SAASoB,UAAYpG,aPmS5BqG,GAAG,SAASlH,QAAQU,OAAOJ,SACjC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAUXP,SQxTQsD,QAAAA,OAER,SAASA,SAAS1C,KAEdA,IAAIyC,UAAU,SACVuC,MAAO,QAAAA,SACH,GAAIiB,MAAOvB,KACPF,QAAUE,KAAKC,SACfF,MAAQC,KAAKE,OACbsB,WAAa,KAEjBxB,MAAKyB,cAAgB,KAGrBnG,KAAIa,GAAG2D,QAAS,mBAAoB,WAChC0B,WAAa,MAIjBlG,KAAIa,GAAG2D,QAAS,iBAAkB,WAC9B0B,WAAa,OAIjBlG,KAAIa,GAAG2D,QAAS,QAAS,WACrByB,KAAKE,cAAgB,MAGzBnG,KAAIa,GAAG2D,QAAS,OAAQ,WACpByB,KAAKE,cAAgB,OAIzB3B,SAAQ4B,iBAAiB,QAASC,WAAY,MAI9C,IAAIrG,IAAIU,UAAY,OAAQ,CAExBV,IAAIa,GAAG2D,QAAS,MAAO,WACnBvD,WAAWoF,WAAY,IAG3BrG,KAAIa,GAAG2D,QAAS,QAAS,SAAU8B,OAC/BA,MAAQA,OAASxF,OAAOwF,OACvBA,MAAMC,UAAY,IAAMD,MAAMC,UAAY,IAAMF,eAKzD,QAASA,cACL,GAAIH,WAAY,CAAE,OAClBzB,MAAMwB,KAAKnB,OAASN,QAAQ7E,QAKpCwF,QAAS,QAAAA,SAAUqB,UACf,GAAI9B,KAAKyB,cAAe,MACxBzB,MAAKC,SAAShF,MAAQ6G,UAG1BvB,MAAO,QAAAA,SACHP,KAAKC,SAAShF,MAAQ+E,KAAKE,OAAOF,KAAKI,gBR6T7C2B,GAAG,SAAS3H,QAAQU,OAAOJ,SACjC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MASXP,SS1YQ0D,cAAAA,aAER,SAASA,eAAe9C,KAEpBA,IAAIyC,UAAU,cACVwC,MAAO,QAAAA,SACHjF,IAAIa,GAAG6D,KAAKC,SAAU,aAAcD,KAAKE,OAAOF,KAAKI,SAGzDK,QAAS,QAAAA,SAAUuB,YAKvB1G,KAAIyC,UAAU,cACVwC,MAAO,QAAAA,SACHjF,IAAIa,GAAG6D,KAAKC,SAAU,aAAcD,KAAKE,OAAOF,KAAKI,SAGzDK,QAAS,QAAAA,cAKbnF,KAAIyC,UAAU,aACVwC,MAAO,QAAAA,SACHjF,IAAIa,GAAG6D,KAAKC,SAAU,YAAaD,KAAKE,OAAOF,KAAKI,SAGxDK,QAAS,QAAAA,cAKbnF,KAAIyC,UAAU,YACVwC,MAAO,QAAAA,SACHjF,IAAIa,GAAG6D,KAAKC,SAAU,WAAYD,KAAKE,OAAOF,KAAKI,SAGvDK,QAAS,QAAAA,qBTyYXwB,IAAI,SAAS7H,QAAQU,OAAOJ,SAClC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAOXP,SU7bQuD,OAAAA,MAER,SAASA,QAAQ3C,KAEbA,IAAIyC,UAAU,QACVwC,MAAO,QAAAA,SACHP,KAAKC,SAASiC,UAAYlC,KAAKE,OAAOF,KAAKI,QAE/CK,QAAS,QAAAA,SAAUqB,UACfzF,QAAQC,IAAI,kCAAoCwF,SAChD9B,MAAKC,SAASiC,UAAYJ,kBVmchCK,IAAI,SAAS/H,QAAQU,OAAOJ,SAClC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAOXP,SWxdQc,QAAAA,OAGR,SAASA,SAASF,KACd,YAGA,KAAK,GAAI8G,QAAQ9G,KAAI+G,YAAa,CAC9B,GAAItC,OAAQzE,IAAI+G,YAAYD,KAU5B,KAAKrC,MAAMuC,UAAW,CAClBvC,MAAMuC,UAAY9F,SAAS+F,iBAAT,kBAA4CxC,MAAMyC,MAAlD,KAItB,IAAKzC,MAAM0C,YAAa,CACpB1C,MAAM0C,eAKV1C,MAAM2C,WAAc,WAChB3C,MAAM2C,UAAU/B,MAAMZ,OAAQA,OADR,IAAA4C,OAAA,QAAAA,OAIbC,MACL,IAAK7C,MAAM8C,eAAeD,OACnBA,OAAS,SACTA,OAAS,eACTA,OAAS,aACTA,OAAS,YAAa,CAAE,MAAA,YAG/B,WAEI,GAAIE,SAAUF,KACVG,UAAYhD,MAAM6C,KAEtB7H,QAAOC,eAAe+E,MAAO+C,SACzBE,IAAK,QAAAA,OACD,MAAOD,YAGXE,IAAK,QAAAA,KAAUnB,UACXzF,QAAQC,IAAOyD,MAAMyC,MAArB,IAA8BM,QAA9B,MAA2CC,UAA3C,QAA4DjB,SAC5DiB,WAAYjB,QACZoB,gBAAenD,MAAO+C,QAASC,kBArB/C,KAAK,GAAIH,QAAQ7C,OAAO,CAAA,GAAAoD,MAAAR,MAAfC,KAAe,IAAAO,OAAA,WAKW,YA4BvC,KAAK,GAAI9I,GAAI,EAAGO,OAASmF,MAAMuC,UAAU1H,OAAQP,EAAIO,OAAQP,IAAK,CAC9D+I,eAAerD,MAAMuC,UAAUjI,GAAI0F,QAM3C,QAASqD,gBAAgBC,QAAStD,QAE9B,QAAUuD,aAAaC,cAEnB,IAAK,GAAIC,IAAI,EAAGC,QAASF,aAAa3I,OAAQ4I,GAAIC,QAAQD,KAAK,CAC3D,GAAIE,OAAQH,aAAaC,GAEzB,IAAIE,MAAMC,SAAS/I,OAAS,EAAG,CAC3B0I,YAAYI,MAAMC,cACf,CAEH,IAAK,GAAIC,KAAI,EAAGC,SAASH,MAAMrD,WAAWzF,OAAQgJ,IAAIC,SAAQD,MAAK,CAC/D,GAAME,eAAgBJ,MAAMrD,WAAWuD,KAAGjE,KACtCoE,cAAgBL,MAAMrD,WAAWuD,KAAG3I,KAExC,IAAI6I,cAAcE,QAAQ,OAAS,EAAG,CAAE,SAGxC,GAAI1I,IAAIwC,WAAWgG,gBAAkBC,cAAe,CAChDhE,MAAM0C,YAAYwB,KAAK,GAAI3I,KAAIwC,WAAWgG,eAAeJ,MAAO3D,cAQjFsD,QAAQM,UAOf,QAAST,gBAAgBnD,MAAOmE,KAAMpC,UAClC,YACA/B,OAAM0C,YAAY0B,QAAQ,SAACC,aAAcC,MAAO5B,aAC5C,GAAI2B,aAAahE,QAAU8D,KAAME,aAAa3D,QAAQqB,mBX8d5DwC,IAAI,SAASlK,QAAQU,OAAOJ,SAClC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,SAAQuB,cAAgBd,SYllBxB,IAAAoJ,MAAAnK,QAAA,QACA,IAAAoK,QAAApK,QAAA,WAEA,IAAAqK,aAAArK,QAAA,eZ0lBAM,SY/lBuBuB,cAAdyI,UAOT,SAASA,YAAYpJ,MACjB,EAAAmJ,YAAAE,YAAWrJ,MACX,EAAAiJ,KAAAK,KAAItJ,MACJ,EAAAkJ,OAAArI,IAAGb,MACH,EAAAkJ,OAAAK,KAAIvJ,QZ8lBLwJ,eAAe,GAAGC,QAAQ,GAAGC,WAAW,KAAKC,IAAI,SAAS7K,QAAQU,OAAOJ,SAC5E,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,SAAQiK,WAAaxJ,Sa/mBrB,IAAAoE,IAAAnF,QAAA,SbmnBAM,SalnBQiK,WAAAA,UAIR,SAASA,YAAYrJ,KAEjBA,IAAI+G,cACJ/G,KAAIqJ,WAAa,SAAUO,SAAUC,aAAcjK,UAE/CmB,QAAQC,IAAI,iBAEZ,IAAIiD,GAAAzC,EAAEC,OAAOoI,gBAAkB,QAAS,CACpCjK,SAAWiK,YACXA,iBAKJ7J,IAAI+G,YAAY6C,WACZ1C,MAAO0C,SACPxC,UAAWxH,cb0nBpB+F,SAAS,IAAImE,IAAI,SAAShL,QAAQU,OAAOJ,SAC5C,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,ScppBgBkK,IAAAA,GAAT,SAASA,KAAKtJ,KAEjBA,IAAIsJ,IAAM,SAAU9E,QAAS8C,KAAM3H,OAC/B,GAAI6E,QAAQuF,MAAMzC,OAASzH,UAAW,MACtC2E,SAAQuF,MAAMzC,KAAO3H,ad6pBvBqK,IAAI,SAASlL,QAAQU,OAAOJ,SAClC,YAEAK,QAAOC,eAAeN,QAAS,cAC3BO,MAAO,MAEXP,SepqBgByB,GAAAA,EfqqBhBzB,SezpBgBmK,IAAAA,GAZT,SAAS1I,IAAIb,KAChBA,IAAIa,GAAK,SAAU2D,QAASyF,UAAWC,aACnC,GAAI1F,QAAQ4B,iBAAkB,CAC1B5B,QAAQ4B,iBAAiB6D,UAAWC,YAAa,WAC9C,IAAI1F,QAAQ2F,YAAa,CAC5B3F,QAAQ2F,YAAR,KAAyBF,UAAaC,iBACnC,CACH1F,QAAA,KAAayF,WAAeC,cAKjC,QAASX,KAAKvJ,KACjBA,IAAIuJ,IAAM,SAAU/E,QAASyF,UAAWC,aACpC,GAAI1F,QAAQ4F,oBAAqB,CAC7B5F,QAAQ4F,oBAAoBH,UAAWC,YAAa,WACjD,IAAI1F,QAAQ6F,YAAa,CAC5B7F,QAAQ6F,YAAR,KAAyBJ,UAAaC,iBACnC,CACH1F,QAAA,KAAayF,WAAe,kBfkrB7B","file":"LancerFrame.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.initFunc = undefined;\n\nvar _main = require(\"./directives/_main\");\n\nvar _main2 = require(\"./dom-init/_main\");\n\n// Lancer Frame V0.0.1 By LancerComet at 12:06, 2016.06.02.\n// # Carry Your World #\n\nexports.initFunc = initFunc;\n\n\nfunction initFunc($lc) {\n\n    (0, _main.directiveMain)($lc); // 指令逻辑初始化.\n    (0, _main2.domInit)($lc); // 扫描文档结构.\n}\n\n},{\"./directives/_main\":4,\"./dom-init/_main\":11}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _main = require(\"./static-func/_main\");\n\nvar _LancerFrameInit = require(\"./LancerFrame-init.js\");\n\n// Lancer Frame V0.0.1 By LancerComet at 16:44, 2016.02.29.\n// # Carry Your World #\n\n(function (root, undefined) {\n    \"use strict\";\n\n    var $lc = {};\n\n    // Definition: 常量定义区.\n    // =================================\n    $lc.VERSION = \"0.0.1\";\n    $lc.AUTHOR = \"LancerComet\";\n    $lc.BROWSER = \"\"; // TODO: 检测浏览器.\n\n    // Definition: 静态方法定义区.\n    // =================================\n    (0, _main.setStaticFunc)($lc); // 设置静态方法.\n\n    // Definition: 框架初始化.\n    // =================================\n    // 让框架在 DomContentLoaded 时进行初始化.\n    // 如果没赶上, 则在 window.onload 时进行.\n    // 如果还没赶上, 检测 document.readyState 是否为 complete, 是则直接执行.\n    (function () {\n        $lc.inited = false;\n\n        $lc.on(window, \"DOMContentLoaded\", function () {\n            if ($lc.inited) return;\n            console.log(\"Init at DOMContentLoaded\");\n            (0, _LancerFrameInit.initFunc)($lc);\n            $lc.inited = true;\n        });\n\n        $lc.on(window, \"load\", function () {\n            if ($lc.inited) return;\n            console.log(\"Init at window.onload\");\n            (0, _LancerFrameInit.initFunc)($lc);\n            $lc.inited = true;\n        });\n\n        setTimeout(function () {\n            document.readyState === \"complete\" && function () {\n                if ($lc.inited) return;\n                console.log(\"Init at readyState = complete\");\n                (0, _LancerFrameInit.initFunc)($lc);\n                $lc.inited = true;\n            }();\n        }, 1);\n    })();\n\n    // Definition: 将 LancerFrame 挂载至全局环境.\n    // =================================\n    root.LancerFrame = root.$lc = $lc;\n})(window);\n\n},{\"./LancerFrame-init.js\":1,\"./static-func/_main\":12}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\n// # Carry Your World #\n// ---\n// Internal Functions.\n\nvar _ = exports._ = {\n    typeof: function _typeof(target) {\n        return Object.prototype.toString.call(target).match(/ \\S*/i)[0].replace(\" \", \"\").replace(\"]\", \"\").toLowerCase();\n    }\n};\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.directiveMain = undefined;\n\nvar _directive = require(\"./directive\");\n\nvar _lcText = require(\"./lc-text\");\n\nvar _lcModel = require(\"./lc-model\");\n\nvar _lcHtml = require(\"./lc-html\");\n\nvar _lcClick = require(\"./lc-click\");\n\nvar _lcMouseEvent = require(\"./lc-mouse-event\");\n\n// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\n// # Carry Your World #\n// ---\n// 指令逻辑入口文件.\n\nexports.directiveMain = directiveMain;\n\n\nfunction directiveMain($lc) {\n\n    // 定义指令存储数组.\n    // {name: options}\n    $lc.directives = {};\n\n    // 定义 directive 指令定义方法.\n    $lc.directive = _directive.directive;\n\n    // 初始化内置指令.\n    (0, _lcModel.lcModel)($lc);\n    (0, _lcText.lcText)($lc);\n    (0, _lcHtml.lcHTML)($lc);\n    (0, _lcClick.lcClick)($lc);\n    (0, _lcMouseEvent.lcMouseEvents)($lc);\n}\n\n},{\"./directive\":5,\"./lc-click\":6,\"./lc-html\":7,\"./lc-model\":8,\"./lc-mouse-event\":9,\"./lc-text\":10}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.directive = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\n// # Carry Your World #\n// ---\n// 指令定义方法.\n// 本方法用于定义指令.\n\nvar _2 = require(\"../_/_\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexports.directive = directive;\n\n\nfunction directive(name, options) {\n\n    /*\r\n     * @ name: String,\r\n     * @ options: {\r\n     *       $init: function (element, scope),  // 指令初始化时执行.\r\n     *       $done: Function,  // 指令初始化完毕后执行.\r\n     *       $update: Function,  // 指令节点进行更新时执行.\r\n     *       $destory: Function  // 指令在销毁时执行.\r\n     *   }   \r\n     */\n\n    if (_2._.typeof(name) !== \"string\") {\n        throw new Error(\"自定义指令时必须使用字符串作为指令名称.\");\n    }\n\n    // 将指令登记到 $lc.directives 中.\n    // 登记过的指令是一个 Class, 用于在节点初始化的时候生成指令对象并存储到控制器的 scope.$directives 中.\n    // 这样就可以不依赖 HTML 上的属性了.\n    $lc.directives[\"lc-\" + name] = function () {\n        function _class(element, scope) {\n            _classCallCheck(this, _class);\n\n            this.$element = element;\n            this.$scope = scope;\n            this.$directiveName = \"lc-\" + name;\n            this.$expr = this.$element.attributes[this.$directiveName].value;\n\n            options.$init && options.$init.call(this, this.$element, this.scope);\n\n            // 处理多态.(如果 options 传来指定方法)\n            if (options.$done) {\n                var _$done = this.$done;\n                _$done.call(this);\n                options.$done.call(this); // 执行自定义 $done.\n            } else {\n                    this.$done.call(this);\n                }\n\n            if (options.$update) {\n                var _$update = this.$update;\n                this.$update = function () {\n                    _$update.call(this);\n                    options.$update.apply(this, arguments);\n                };\n            }\n\n            if (options.$destory) {\n                var _$destory = this.$destory;\n                this.$destory = function () {\n                    _$destory.call(this);\n                    options.$destory.apply(this, arguments);\n                };\n            }\n\n            this.$removeDirective();\n        }\n\n        _createClass(_class, [{\n            key: \"$done\",\n            value: function $done() {\n                // 好像没碉用？\n            }\n        }, {\n            key: \"$update\",\n            value: function $update() {}\n        }, {\n            key: \"$destory\",\n            value: function $destory() {}\n\n            // 删除节点指令标识.\n\n        }, {\n            key: \"$removeDirective\",\n            value: function $removeDirective() {\n                this.$element.removeAttribute(this.$directiveName);\n            }\n        }]);\n\n        return _class;\n    }();\n}\n\n},{\"../_/_\":3}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\r\n *  LancerFrame Click directive By LancerComet at 15:10, 2016.03.05.\r\n *  Last edit at 01:33, 2016.06.03.\r\n *  # Carry Your World #\r\n *  ---\r\n *  lc-click 指令模块.\r\n */\n\nexports.lcClick = lcClick;\n\n\nfunction lcClick($lc) {\n\n    $lc.directive(\"click\", {\n        $done: function $done() {\n            $lc.on(this.$element, \"click\", this.$scope[this.$expr]);\n        },\n\n        $update: function $update() {}\n    });\n}\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// Lancer Frame V0.0.1 By LancerComet at 16:27, 2016.06.02.\n// # Carry Your World #\n// ---\n// lc-html.\n\nexports.lcHTML = lcHTML;\n\n\nfunction lcHTML($lc) {\n\n    $lc.directive(\"html\", {\n        $done: func,\n        $update: func\n    });\n\n    function func(value) {\n        this.$element.innerHTML = value;\n    }\n}\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\r\n *  LancerFrame Model directive By LancerComet at 15:10, 2016.03.05.\r\n *  Last edit at 22:56, 2016.06.02.\r\n *  # Carry Your World #\r\n *  ---\r\n *  lc-model 指令模块.\r\n */\n\nexports.lcModel = lcModel;\n\n\nfunction lcModel($lc) {\n\n    $lc.directive(\"model\", {\n        $init: function $init() {\n            var self = this,\n                element = this.$element,\n                scope = this.$scope,\n                imeIgnored = false;\n\n            this.duplexIgnored = false; // 当用户处于输入状态时无视双向绑定.\n\n            // 进入输入法输入状态时锁定控制标识.\n            $lc.on(element, \"compositionstart\", function () {\n                imeIgnored = true;\n            });\n\n            // 当输入法状态恢复时释放控制标识.\n            $lc.on(element, \"compositionend\", function () {\n                imeIgnored = false;\n            });\n\n            // 进入激活状态时无视双向绑定.\n            $lc.on(element, \"focus\", function () {\n                self.duplexIgnored = true;\n            });\n\n            $lc.on(element, \"blur\", function () {\n                self.duplexIgnored = false;\n            });\n\n            element.addEventListener(\"input\", inputEvent, false);\n\n            // Fixing: IE9 在 Backspace / Delete / 剪切时不触发 input 事件.\n            // http://frontenddev.org/article/compatible-with-processing-and-chinese-input-method-to-optimize-the-input-events.html\n            if ($lc.BROWSER === \"IE 9\") {\n\n                $lc.on(element, \"cut\", function () {\n                    setTimeout(inputEvent, 1); // 必须放置在任务队列中才生效.                  \n                });\n\n                $lc.on(element, \"keyup\", function (event) {\n                    event = event || window.event;\n                    (event.keyCode === 46 || event.keyCode === 8) && inputEvent();\n                });\n            }\n\n            function inputEvent() {\n                if (imeIgnored) {\n                    return;\n                }\n                scope[self.$expr] = element.value;\n            }\n        },\n\n        $update: function $update(newValue) {\n            if (this.duplexIgnored) return;\n            this.$element.value = newValue;\n        },\n\n        $done: function $done() {\n            this.$element.value = this.$scope[this.$expr];\n        }\n    });\n}\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\r\n *  LancerFrame Mouse Event directive By LancerComet at 01:44, 2016.03.05.\r\n *  # Carry Your World #\r\n *  ---\r\n *  lc-mouse 指令模块.\r\n */\n\nexports.lcMouseEvents = lcMouseEvents;\n\n\nfunction lcMouseEvents($lc) {\n\n    $lc.directive(\"mouseenter\", {\n        $done: function $done() {\n            $lc.on(this.$element, \"mouseenter\", this.$scope[this.$expr]);\n        },\n\n        $update: function $update(newFunc) {}\n    });\n\n    $lc.directive(\"mouseleave\", {\n        $done: function $done() {\n            $lc.on(this.$element, \"mouseleave\", this.$scope[this.$expr]);\n        },\n\n        $update: function $update() {}\n    });\n\n    $lc.directive(\"mouseover\", {\n        $done: function $done() {\n            $lc.on(this.$element, \"mouseover\", this.$scope[this.$expr]);\n        },\n\n        $update: function $update() {}\n    });\n\n    $lc.directive(\"mouseout\", {\n        $done: function $done() {\n            $lc.on(this.$element, \"mouseout\", this.$scope[this.$expr]);\n        },\n\n        $update: function $update() {}\n    });\n}\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// Lancer Frame V0.0.1 By LancerComet at 18:44, 2016.06.02.\n// # Carry Your World #\n// ---\n// lc-text.\n\nexports.lcText = lcText;\n\n\nfunction lcText($lc) {\n\n    $lc.directive(\"text\", {\n        $done: function $done() {\n            this.$element.innerText = this.$scope[this.$expr];\n        },\n        $update: function $update(newValue) {\n            console.log(\"lc-text on $update: newValue = \" + newValue);\n            this.$element.innerText = newValue;\n        }\n    });\n}\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// Lancer Frame V0.0.1 By LancerComet at 15:00, 2016.06.02.\n// # Carry Your World #\n// ---\n// 节点初始化逻辑.\n\nexports.domInit = domInit;\n\n// 开始初始化页面节点.\n\nfunction domInit($lc) {\n    \"use strict\";\n\n    // 初始化所有控制器节点.\n\n    for (var ctrl in $lc.controllers) {\n        var scope = $lc.controllers[ctrl];\n        /*\r\n         * @ scope: {\r\n         *     $name: 控制器名称,\r\n         *     $directives: 子节点指令对象, 用户数据同步.\r\n         *     ... (其他用户定义属性)\r\n         * } \r\n         */\n\n        // 保存控制器节点.\n        if (!scope.$ctrlDoms) {\n            scope.$ctrlDoms = document.querySelectorAll(\"[lc-controller=\" + scope.$name + \"]\");\n        }\n\n        // 创建控制器下的指令节点对象至数组 $directives 中.\n        if (!scope.$directives) {\n            scope.$directives = [];\n        }\n\n        // 设置双向数据绑定.\n        scope.$initFunc && function () {\n            scope.$initFunc.apply(scope, [scope]); // 将控制器对象放入 initFunc 中执行. 将加载用户属性.\n\n            // 为每个用户定义的属性设置 get / set.\n\n            var _loop = function _loop(prop) {\n                if (!scope.hasOwnProperty(prop) || prop === \"$name\" || prop === \"$directives\" || prop === \"$initFunc\" || prop === \"$ctrlDoms\") {\n                    return \"continue\";\n                }\n\n                // 在自执行函数中创建闭包来保留每个属性的 key 与 value 的各自引用 propKey, propValue 以避免属性相互干扰.\n                (function () {\n\n                    var propKey = prop,\n                        propValue = scope[prop];\n\n                    Object.defineProperty(scope, propKey, {\n                        get: function get() {\n                            return propValue;\n                        },\n\n                        set: function set(newValue) {\n                            console.log(scope.$name + \".\" + propKey + \" 从 \" + propValue + \" 修改为 \" + newValue);\n                            propValue = newValue; // 用户修改值之后进行更新.\n                            syncController(scope, propKey, propValue); // 同步页面中所有此控制器节点中的数据.\n                        }\n\n                    });\n                })();\n            };\n\n            for (var prop in scope) {\n                var _ret = _loop(prop);\n\n                if (_ret === \"continue\") continue;\n            }\n        }();\n\n        // 初始化控制器节点与其子节点, 建立指令对象并推入 $directives.\n        for (var i = 0, length = scope.$ctrlDoms.length; i < length; i++) {\n            initController(scope.$ctrlDoms[i], scope);\n        }\n    }\n\n    // Definition: 初始化控制器内的子节点指令.\n    function initController(ctrlDom, scope) {\n\n        (function initChilden(ctrlChildren) {\n\n            for (var _i = 0, _length = ctrlChildren.length; _i < _length; _i++) {\n                var child = ctrlChildren[_i];\n\n                if (child.children.length > 0) {\n                    initChilden(child.children); // 多层嵌套子元素.\n                } else {\n                        // 获取节点上注册的指令.\n                        for (var _i2 = 0, _length2 = child.attributes.length; _i2 < _length2; _i2++) {\n                            var direcitveName = child.attributes[_i2].name,\n                                // 指令名称.\n                            directiveExpr = child.attributes[_i2].value; // 指令对应的 scope 属性.\n\n                            if (direcitveName.indexOf(\"lc-\") < 0) {\n                                continue;\n                            }\n\n                            // 如果 $lc.directives 中有相应指令则初始化指令.\n                            if ($lc.directives[direcitveName] && directiveExpr) {\n                                scope.$directives.push(new $lc.directives[direcitveName](child, scope));\n                            }\n                        }\n                    }\n            }\n        })(ctrlDom.children);\n    }\n\n    // Definition: 控制器数据同步函数.\n    // 在 get / set 中调用.\n    function syncController(scope, expr, newValue) {\n        \"use strict\";\n\n        scope.$directives.forEach(function (directiveObj, index, $directives) {\n            if (directiveObj.$expr === expr) directiveObj.$update(newValue);\n        });\n    }\n}\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.setStaticFunc = undefined;\n\nvar _css = require(\"./css\");\n\nvar _onOff = require(\"./on-off\");\n\nvar _controller = require(\"./controller\");\n\n// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\n// # Carry Your World #\n\nexports.setStaticFunc = staticFunc;\n\n\nfunction staticFunc($lc) {\n    (0, _controller.controller)($lc); // $lc.controller.\n    (0, _css.css)($lc); // $lc.css.\n    (0, _onOff.on)($lc); // $lc.on.\n    (0, _onOff.off)($lc); // $lc.off.\n}\n\n},{\"./controller\":13,\"./css\":14,\"./on-off\":15}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.controller = undefined;\n\nvar _2 = require(\"../_/_\");\n\nexports.controller = controller;\n\n// Definition: 框架控制器定义函数.\n// lc.controller(\"ctrlName\", [\"moduleA\"], function (scope) {})\n// Lancer Frame V0.0.1 By LancerComet at 15:39, 2016.06.02.\n// # Carry Your World #\n\nfunction controller($lc) {\n\n    $lc.controllers = {};\n    $lc.controller = function (ctrlName, dependencies, initFunc) {\n        // @ params: 模块名称, 依赖模块, 模块初始化函数.\n        console.log(\"$lc.controller\");\n\n        if (_2._.typeof(dependencies) !== \"array\") {\n            initFunc = dependencies;\n            dependencies = [];\n        }\n\n        // 定义控制器作用域对象.\n        // 对象将在之后加载用户属性.\n        $lc.controllers[ctrlName] = {\n            $name: ctrlName,\n            $initFunc: initFunc\n        };\n    };\n};\n\n},{\"../_/_\":3}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.css = css;\n// Lancer Frame V0.0.1 By LancerComet at 22:16, 2016.06.02.\n// # Carry Your World #\n// ---\n// CSS 设置方法\nfunction css($lc) {\n\n    $lc.css = function (element, prop, value) {\n        if (element.style.prop === undefined) return;\n        element.style.prop = value;\n    };\n};\n\n},{}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.on = on;\nexports.off = off;\n/*\r\n *  LancerFrame on Function By LancerComet at 22:58, 2016.03.05.\r\n *  # Carry Your World #\r\n *  ---\r\n *  $lc.on\r\n */\n\nfunction on($lc) {\n    $lc.on = function (element, eventType, eventHanler) {\n        if (element.addEventListener) {\n            element.addEventListener(eventType, eventHanler, false);\n        } else if (element.attachEvent) {\n            element.attachEvent(\"on\" + eventType, eventHanler);\n        } else {\n            element[\"on\" + eventType] = eventHanler;\n        }\n    };\n}\n\nfunction off($lc) {\n    $lc.off = function (element, eventType, eventHanler) {\n        if (element.removeEventListener) {\n            element.removeEventListener(eventType, eventHanler, false);\n        } else if (element.detachEvent) {\n            element.detachEvent(\"on\" + eventType, eventHanler);\n        } else {\n            element[\"on\" + eventType] = null;\n        }\n    };\n}\n\n},{}]},{},[2])\n\n","// Lancer Frame V0.0.1 By LancerComet at 12:06, 2016.06.02.\r\n// # Carry Your World #\r\n\r\nexport {initFunc}\r\n\r\nimport {directiveMain} from \"./directives/_main\"   \r\nimport {domInit} from \"./dom-init/_main\"  \r\n\r\nfunction initFunc ($lc) {\r\n    \r\n    directiveMain($lc);  // 指令逻辑初始化.\r\n    domInit($lc);  // 扫描文档结构.\r\n    \r\n}","// Lancer Frame V0.0.1 By LancerComet at 16:44, 2016.02.29.\r\n// # Carry Your World #\r\n\r\nimport {setStaticFunc} from \"./static-func/_main\"  \r\nimport {initFunc} from \"./LancerFrame-init.js\"\r\n\r\n(function (root, undefined) {\r\n    \"use strict\";\r\n    \r\n    var $lc = {};\r\n    \r\n    // Definition: 常量定义区.\r\n    // =================================\r\n    $lc.VERSION = \"0.0.1\";\r\n    $lc.AUTHOR = \"LancerComet\";\r\n    $lc.BROWSER = \"\";  // TODO: 检测浏览器.\r\n    \r\n    \r\n    // Definition: 静态方法定义区.\r\n    // =================================\r\n    setStaticFunc($lc);  // 设置静态方法.\r\n    \r\n    \r\n    \r\n    // Definition: 框架初始化.\r\n    // =================================\r\n    // 让框架在 DomContentLoaded 时进行初始化.\r\n    // 如果没赶上, 则在 window.onload 时进行.\r\n    // 如果还没赶上, 检测 document.readyState 是否为 complete, 是则直接执行.\r\n    (() => {\r\n        $lc.inited = false;\r\n        \r\n        $lc.on(window, \"DOMContentLoaded\", () => {\r\n            if ($lc.inited) return;\r\n            console.log(\"Init at DOMContentLoaded\");\r\n            initFunc($lc);\r\n            $lc.inited = true;            \r\n        });\r\n        \r\n        $lc.on(window, \"load\", () => {\r\n            if ($lc.inited) return;\r\n            console.log(\"Init at window.onload\");\r\n            initFunc($lc);\r\n            $lc.inited = true;            \r\n        });\r\n        \r\n        setTimeout(() => {\r\n            document.readyState === \"complete\" && (() => {\r\n                if ($lc.inited) return;        \r\n                console.log(\"Init at readyState = complete\")        \r\n                initFunc($lc);\r\n                $lc.inited = true;\r\n            })();\r\n        }, 1);\r\n        \r\n    })();\r\n\r\n\r\n\r\n    // Definition: 将 LancerFrame 挂载至全局环境.\r\n    // =================================\r\n    root.LancerFrame = root.$lc = $lc;\r\n\r\n\r\n})(window);","// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// Internal Functions.\r\n\r\nexport const _ = {\r\n    typeof: (target) => Object.prototype.toString.call(target).match(/ \\S*/i)[0].replace(\" \", \"\").replace(\"]\", \"\").toLowerCase()\r\n};","// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// 指令逻辑入口文件.\r\n\r\nexport {directiveMain}\r\n\r\nimport {directive} from \"./directive\"\r\nimport {lcText} from \"./lc-text\"\r\nimport {lcModel} from \"./lc-model\"    \r\nimport {lcHTML} from \"./lc-html\"\r\nimport {lcClick} from \"./lc-click\"\r\nimport {lcMouseEvents} from \"./lc-mouse-event\"\r\n\r\nfunction directiveMain ($lc) {\r\n    \r\n    // 定义指令存储数组.\r\n    // {name: options}\r\n    $lc.directives = {};\r\n\r\n    // 定义 directive 指令定义方法.\r\n    $lc.directive = directive;\r\n    \r\n    // 初始化内置指令.\r\n    lcModel($lc);\r\n    lcText($lc);\r\n    lcHTML($lc);\r\n    lcClick($lc);\r\n    lcMouseEvents($lc);\r\n    \r\n}","// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// 指令定义方法.\r\n// 本方法用于定义指令.\r\n\r\nimport {_} from \"../_/_\"\r\n\r\nexport { directive }\r\n\r\nfunction directive (name, options) {\r\n    \r\n    /*\r\n     * @ name: String,\r\n     * @ options: {\r\n     *       $init: function (element, scope),  // 指令初始化时执行.\r\n     *       $done: Function,  // 指令初始化完毕后执行.\r\n     *       $update: Function,  // 指令节点进行更新时执行.\r\n     *       $destory: Function  // 指令在销毁时执行.\r\n     *   }   \r\n     */\r\n    \r\n    if (_.typeof(name) !== \"string\") {\r\n        throw new Error(`自定义指令时必须使用字符串作为指令名称.`);\r\n    }\r\n    \r\n    \r\n    // 将指令登记到 $lc.directives 中.\r\n    // 登记过的指令是一个 Class, 用于在节点初始化的时候生成指令对象并存储到控制器的 scope.$directives 中.\r\n    // 这样就可以不依赖 HTML 上的属性了.\r\n    $lc.directives[\"lc-\" + name] = class {\r\n        constructor (element, scope) {\r\n            this.$element = element;\r\n            this.$scope = scope;                        \r\n            this.$directiveName = `lc-${name}`;\r\n            this.$expr = this.$element.attributes[this.$directiveName].value;\r\n            \r\n            options.$init && options.$init.call(this, this.$element, this.scope);\r\n            \r\n            // 处理多态.(如果 options 传来指定方法)\r\n            if (options.$done) {\r\n                var _$done = this.$done;\r\n                _$done.call(this);\r\n                options.$done.call(this);  // 执行自定义 $done.\r\n            } else {\r\n                this.$done.call(this);\r\n            }\r\n            \r\n            if (options.$update) {\r\n                var _$update = this.$update;\r\n                this.$update = function () {\r\n                    _$update.call(this);\r\n                    options.$update.apply(this, arguments);\r\n                };\r\n            }\r\n            \r\n            if (options.$destory) {\r\n                var _$destory = this.$destory;\r\n                this.$destory = function () {\r\n                    _$destory.call(this);\r\n                    options.$destory.apply(this, arguments);\r\n                };\r\n            }\r\n            \r\n            this.$removeDirective();\r\n        }\r\n        \r\n        $done () {\r\n            // 好像没碉用？\r\n        }\r\n        \r\n        $update () {\r\n        }\r\n        \r\n        $destory () {\r\n            \r\n        }\r\n        \r\n        // 删除节点指令标识.\r\n        $removeDirective () {\r\n            this.$element.removeAttribute(this.$directiveName);\r\n        }\r\n        \r\n    }\r\n    \r\n}\r\n\r\n","/*\r\n *  LancerFrame Click directive By LancerComet at 15:10, 2016.03.05.\r\n *  Last edit at 01:33, 2016.06.03.\r\n *  # Carry Your World #\r\n *  ---\r\n *  lc-click 指令模块.\r\n */\r\n\r\nexport {lcClick}\r\n\r\nfunction lcClick ($lc) {\r\n    \r\n    $lc.directive(\"click\", {\r\n        $done: function () {\r\n            $lc.on(this.$element, \"click\", this.$scope[this.$expr]);\r\n        },\r\n        \r\n        $update: function () {\r\n            \r\n        }\r\n    });\r\n}\r\n","// Lancer Frame V0.0.1 By LancerComet at 16:27, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// lc-html.\r\n\r\nexport {lcHTML}\r\n\r\nfunction lcHTML ($lc) {\r\n    \r\n    $lc.directive(\"html\", {\r\n        $done: func,\r\n        $update: func\r\n    });\r\n    \r\n    function func (value) {\r\n        this.$element.innerHTML = value;        \r\n    }\r\n    \r\n}","/*\r\n *  LancerFrame Model directive By LancerComet at 15:10, 2016.03.05.\r\n *  Last edit at 22:56, 2016.06.02.\r\n *  # Carry Your World #\r\n *  ---\r\n *  lc-model 指令模块.\r\n */\r\n\r\nexport {lcModel}\r\n\r\nfunction lcModel ($lc) {\r\n    \r\n    $lc.directive(\"model\", {\r\n        $init: function () {\r\n            var self = this,\r\n                element = this.$element,\r\n                scope = this.$scope,\r\n                imeIgnored = false;\r\n                \r\n            this.duplexIgnored = false;  // 当用户处于输入状态时无视双向绑定.\r\n                            \r\n            // 进入输入法输入状态时锁定控制标识.\r\n            $lc.on(element, \"compositionstart\", function () {\r\n                imeIgnored = true;\r\n            })\r\n            \r\n            // 当输入法状态恢复时释放控制标识.\r\n            $lc.on(element, \"compositionend\", function () {\r\n                imeIgnored = false;\r\n            });\r\n            \r\n            // 进入激活状态时无视双向绑定.\r\n            $lc.on(element, \"focus\", function () {\r\n                self.duplexIgnored = true;\r\n            });\r\n            \r\n            $lc.on(element, \"blur\", function () {\r\n                self.duplexIgnored = false;\r\n            });\r\n            \r\n            \r\n            element.addEventListener(\"input\", inputEvent, false);\r\n            \r\n            // Fixing: IE9 在 Backspace / Delete / 剪切时不触发 input 事件.\r\n            // http://frontenddev.org/article/compatible-with-processing-and-chinese-input-method-to-optimize-the-input-events.html\r\n            if ($lc.BROWSER === \"IE 9\") {\r\n                \r\n                $lc.on(element, \"cut\", function () {\r\n                    setTimeout(inputEvent, 1);  // 必须放置在任务队列中才生效.                    \r\n                });\r\n                \r\n                $lc.on(element, \"keyup\", function (event) {\r\n                    event = event || window.event;\r\n                    (event.keyCode === 46 || event.keyCode === 8) && inputEvent();\r\n                });\r\n\r\n            }\r\n            \r\n            function inputEvent () {\r\n                if (imeIgnored) { return; }\r\n                scope[self.$expr] = element.value;\r\n            }\r\n                        \r\n        },\r\n        \r\n        $update: function (newValue) {\r\n            if (this.duplexIgnored) return;\r\n            this.$element.value = newValue;\r\n        },\r\n        \r\n        $done: function () {\r\n            this.$element.value = this.$scope[this.$expr];\r\n        }\r\n    });\r\n    \r\n}","/*\r\n *  LancerFrame Mouse Event directive By LancerComet at 01:44, 2016.03.05.\r\n *  # Carry Your World #\r\n *  ---\r\n *  lc-mouse 指令模块.\r\n */\r\n\r\nexport {lcMouseEvents}\r\n\r\nfunction lcMouseEvents ($lc) {\r\n    \r\n    $lc.directive(\"mouseenter\", {\r\n        $done: function () {\r\n            $lc.on(this.$element, \"mouseenter\", this.$scope[this.$expr]);\r\n        },\r\n        \r\n        $update: function (newFunc) {\r\n            \r\n        }\r\n    });\r\n    \r\n    $lc.directive(\"mouseleave\", {\r\n        $done: function () {\r\n            $lc.on(this.$element, \"mouseleave\", this.$scope[this.$expr]);\r\n        },\r\n        \r\n        $update: function () {\r\n            \r\n        }\r\n    });\r\n    \r\n    $lc.directive(\"mouseover\", {\r\n        $done: function () {\r\n            $lc.on(this.$element, \"mouseover\", this.$scope[this.$expr]);\r\n        },\r\n        \r\n        $update: function () {\r\n            \r\n        }\r\n    });\r\n    \r\n    $lc.directive(\"mouseout\", {\r\n        $done: function () {\r\n            $lc.on(this.$element, \"mouseout\", this.$scope[this.$expr]);\r\n        },\r\n        \r\n        $update: function () {\r\n            \r\n        }\r\n    });\r\n    \r\n}","// Lancer Frame V0.0.1 By LancerComet at 18:44, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// lc-text.\r\n\r\nexport {lcText}\r\n\r\nfunction lcText ($lc) {\r\n    \r\n    $lc.directive(\"text\", {\r\n        $done: function () {\r\n            this.$element.innerText = this.$scope[this.$expr];\r\n        },\r\n        $update: function (newValue) {\r\n            console.log(\"lc-text on $update: newValue = \" + newValue)\r\n            this.$element.innerText = newValue;\r\n        }\r\n    });\r\n    \r\n}","// Lancer Frame V0.0.1 By LancerComet at 15:00, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// 节点初始化逻辑.\r\n\r\nexport {domInit}\r\n \r\n// 开始初始化页面节点.\r\nfunction domInit ($lc) {\r\n    \"use strict\";\r\n    \r\n    // 初始化所有控制器节点.\r\n    for (let ctrl in $lc.controllers) {\r\n        var scope = $lc.controllers[ctrl];\r\n        /*\r\n         * @ scope: {\r\n         *     $name: 控制器名称,\r\n         *     $directives: 子节点指令对象, 用户数据同步.\r\n         *     ... (其他用户定义属性)\r\n         * } \r\n         */\r\n        \r\n        // 保存控制器节点.\r\n        if (!scope.$ctrlDoms) {\r\n            scope.$ctrlDoms = document.querySelectorAll(`[lc-controller=${scope.$name}]`);\r\n        }\r\n        \r\n        // 创建控制器下的指令节点对象至数组 $directives 中.\r\n        if (!scope.$directives) {\r\n            scope.$directives = [];            \r\n        }\r\n        \r\n        \r\n        // 设置双向数据绑定.\r\n        scope.$initFunc && (() => {         \r\n            scope.$initFunc.apply(scope, [scope]);  // 将控制器对象放入 initFunc 中执行. 将加载用户属性.\r\n            \r\n            // 为每个用户定义的属性设置 get / set.\r\n            for (let prop in scope) {\r\n                if (!scope.hasOwnProperty(prop) \r\n                    || prop === \"$name\" \r\n                    || prop === \"$directives\" \r\n                    || prop === \"$initFunc\"\r\n                    || prop === \"$ctrlDoms\") { continue; }\r\n                \r\n                // 在自执行函数中创建闭包来保留每个属性的 key 与 value 的各自引用 propKey, propValue 以避免属性相互干扰.\r\n                (() => {\r\n                    \r\n                    var propKey = prop,\r\n                        propValue = scope[prop];\r\n                        \r\n                    Object.defineProperty(scope, propKey, {\r\n                        get: function () {\r\n                            return propValue;\r\n                        },\r\n                        \r\n                        set: function (newValue) {\r\n                            console.log(`${scope.$name}.${propKey} 从 ${propValue} 修改为 ${newValue}`);\r\n                            propValue = newValue;  // 用户修改值之后进行更新.\r\n                            syncController(scope, propKey, propValue);  // 同步页面中所有此控制器节点中的数据.\r\n                        }\r\n                        \r\n                    });\r\n                    \r\n                })();\r\n                \r\n            }\r\n    \r\n        })();\r\n        \r\n        // 初始化控制器节点与其子节点, 建立指令对象并推入 $directives.\r\n        for (let i = 0, length = scope.$ctrlDoms.length; i < length; i++) {\r\n            initController(scope.$ctrlDoms[i], scope)\r\n        }\r\n        \r\n    }\r\n    \r\n    // Definition: 初始化控制器内的子节点指令.\r\n    function initController (ctrlDom, scope) {\r\n        \r\n        (function initChilden (ctrlChildren) {\r\n            \r\n            for (let i = 0, length = ctrlChildren.length; i < length; i++) {\r\n                var child = ctrlChildren[i];\r\n                \r\n                if (child.children.length > 0) {\r\n                    initChilden(child.children);  // 多层嵌套子元素.\r\n                } else {\r\n                    // 获取节点上注册的指令.\r\n                    for (let i = 0, length = child.attributes.length; i < length; i++) {\r\n                        const direcitveName = child.attributes[i].name,  // 指令名称.\r\n                            directiveExpr = child.attributes[i].value;  // 指令对应的 scope 属性.\r\n                        \r\n                        if (direcitveName.indexOf(\"lc-\") < 0) { continue; }\r\n\r\n                        // 如果 $lc.directives 中有相应指令则初始化指令.\r\n                        if ($lc.directives[direcitveName] && directiveExpr) {\r\n                            scope.$directives.push(new $lc.directives[direcitveName](child, scope));\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n                \r\n            }\r\n            \r\n        })(ctrlDom.children);\r\n        \r\n    }\r\n    \r\n    \r\n    // Definition: 控制器数据同步函数.\r\n    // 在 get / set 中调用.\r\n    function syncController (scope, expr, newValue) {\r\n        \"use strict\";\r\n        scope.$directives.forEach((directiveObj, index, $directives) => {\r\n            if (directiveObj.$expr === expr) directiveObj.$update(newValue);\r\n        });\r\n    }\r\n     \r\n}","// Lancer Frame V0.0.1 By LancerComet at 12:09, 2016.06.02.\r\n// # Carry Your World #\r\n\r\nexport { staticFunc as setStaticFunc }\r\n\r\nimport {css} from \"./css\"\r\nimport {on} from \"./on-off\"\r\nimport {off} from \"./on-off\"\r\nimport {controller} from \"./controller\"\r\n\r\nfunction staticFunc ($lc) {\r\n    controller($lc);  // $lc.controller.\r\n    css($lc);  // $lc.css.\r\n    on($lc); // $lc.on.\r\n    off($lc);  // $lc.off.\r\n}","// Lancer Frame V0.0.1 By LancerComet at 15:39, 2016.06.02.\r\n// # Carry Your World #\r\n\r\nimport {_} from \"../_/_\"\r\nexport {controller}\r\n\r\n// Definition: 框架控制器定义函数.\r\n// lc.controller(\"ctrlName\", [\"moduleA\"], function (scope) {})\r\nfunction controller ($lc) {\r\n    \r\n    $lc.controllers = {};\r\n    $lc.controller = function (ctrlName, dependencies, initFunc) {\r\n        // @ params: 模块名称, 依赖模块, 模块初始化函数.\r\n        console.log(\"$lc.controller\")\r\n    \r\n        if (_.typeof(dependencies) !== \"array\") {\r\n            initFunc = dependencies;\r\n            dependencies = [];\r\n        }\r\n        \r\n        // 定义控制器作用域对象.\r\n        // 对象将在之后加载用户属性.\r\n        $lc.controllers[ctrlName] = {\r\n            $name: ctrlName,\r\n            $initFunc: initFunc\r\n        };\r\n    \r\n    };\r\n    \r\n    \r\n    \r\n    \r\n};\r\n\r\n","// Lancer Frame V0.0.1 By LancerComet at 22:16, 2016.06.02.\r\n// # Carry Your World #\r\n// ---\r\n// CSS 设置方法\r\nexport function css ($lc) {\r\n    \r\n    $lc.css = function (element, prop, value) {\r\n        if (element.style.prop === undefined) return;\r\n        element.style.prop = value;\r\n    }   \r\n    \r\n};","/*\r\n *  LancerFrame on Function By LancerComet at 22:58, 2016.03.05.\r\n *  # Carry Your World #\r\n *  ---\r\n *  $lc.on\r\n */\r\n\r\nexport function on ($lc) {\r\n    $lc.on = function (element, eventType, eventHanler) {\r\n        if (element.addEventListener) {\r\n            element.addEventListener(eventType, eventHanler, false);\r\n        } else if (element.attachEvent) {\r\n            element.attachEvent(`on${eventType}`, eventHanler);\r\n        } else {\r\n            element[`on${eventType}`] = eventHanler;\r\n        }\r\n    };\r\n}\r\n\r\nexport function off ($lc) {\r\n    $lc.off = function (element, eventType, eventHanler) {\r\n        if (element.removeEventListener) {\r\n            element.removeEventListener(eventType, eventHanler, false);\r\n        } else if (element.detachEvent) {\r\n            element.detachEvent(`on${eventType}`, eventHanler);\r\n        } else {\r\n            element[`on${eventType}`] = null;\r\n        }\r\n    };\r\n}\r\n"],"sourceRoot":"/source/"}