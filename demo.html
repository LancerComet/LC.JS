<html>
    
    <head>
        <meta charset="utf-8">
        <style>
            [lc-cloak] {
                display: none;
            }
        </style>
    </head>
    
    <body>

        <div lc-controller="testCtrl" lc-cloak>
            <h2>TestCtrl</h2>
            <p>Hello, <span lc-text="firstname" lc-click="firstnameClick"></span> <span lc-text="lastname"></span>!</p>
            <label>firstname: <input type="text" lc-model="firstname"></label>
            <label>lastname: <input type="text" lc-model="lastname"></label>
            <button lc-click="changeName">Change my name!</button>
            <button lc-click="changeEvent"><-- Change this event</button>

            <div lc-controller="testCtrl2">
                <h4>TestCtrl2 in TestCtrl</h4>
                <p>Hello, <span lc-text="firstname"></span> <span lc-text="lastname"></span>!</p>
                <label>firstname: <input type="text" lc-model="firstname"></label>
                <label>lastname: <input type="text" lc-model="lastname"></label>
            </div>


            <div lc-controller="testCtrl3">
                <h4>TestCtrl3 in TestCtrl, and it required "TestCtrl"</h4>
                <p>Hello, <span lc-text="firstname"></span> <span lc-text="lastname"></span>!</p>
                <button lc-click="changeEvent">Change testCtrl.firstname to "Amazing!"</button>
            </div>
        </div>

        <hr>

        <div lc-controller="testCtrl">
            <h2>Still TestCtrl!</h2>
            <p>I'm here again, <span lc-text="firstname"></span> <span lc-text="lastname"></span>!</p>
        </div>
        
        <script src="/dist/LancerFrame.js"></script>
        <script>
            $lc.controller("testCtrl", function (scope) {
                scope.firstname = "Lancer";
                scope.lastname = "Comet";

                scope.firstnameClick = function () {
                    alert("You clicked firstname!");
                };

                scope.changeName = function () {
                    scope.firstname = "啊♂";
                    scope.lastname = "哲♂学";
                };

                scope.changeEvent = function () {
                    this.innerText = "Event has been changed!";
                    scope.changeName = function () {
                        alert("Event has been changed!");
                    };
                };

            });


            $lc.controller("testCtrl2", function () {
                this.firstname = "11";
                this.lastname = "22";
            });

            $lc.controller("testCtrl3", ["testCtrl", "testCtrl2", "$q"], function (scope, testCtrl, testCtrl2, $q) {
                scope.firstname = "33";
                scope.lastname = "44";

                scope.changeEvent = function () {
                    testCtrl.firstname = "Amazing!";
                };

            });

        </script>

        <hr>

        <div lc-controller="customDirective">
            <h2>Custom Directive</h2>
            <p lc-text="info"></p>
            <div lc-alert></div>
        </div>

        <script>

            $lc.controller("customDirective", function (scope) {
                scope.info = "Well here comes the info.";
            });

            $lc.directive("alert", {
                $init: function () {

                },

                $done: function () {
                    var self = this;
                    setTimeout(function (){
                        self.$scope.info = "Now it has been changed!";
                        self.$element.innerHTML = "Hahahaha!";
                    }, 2000);
                },

                $update: function () {

                },

                $destory: function () {

                }
            })




        </script>

        <hr>

        <div lc-controller="brandNewCtrl">
            <h2>Brand New Controller</h2>
            <div lc-text="info"></div>
            <div>
                <p>lc-skip (Nothing will appear after colon.): <span lc-text="nothingHere" lc-skip></span></p>
            </div>
        </div>

        <script>
            $lc.controller("brandNewCtrl", function () {
                this.info = 'You can use "this" instead of "scope" in controller definition.';
                this.nothingHere = "This element will be filled with nothing.";
            });
        </script>


    </body>
    
    
    
</html>